<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å°æšåŠ©ç†å“¡æ‰‹å†Šäº’å‹•æŒ‡å—</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Supportive Calm -->
    <!-- Application Structure Plan: æœ¬æ‡‰ç”¨ç¨‹å¼æ¡ç”¨é ‚éƒ¨å°èˆªæ¬„é…åˆå–®é æ»¾å‹•çš„çµæ§‹ã€‚é€™ç¨®è¨­è¨ˆå…è¨±ä½¿ç”¨è€…ï¼ˆåŠ©ç†å“¡ï¼‰æ—¢å¯ä»¥ä¾åºå­¸ç¿’æ‰‹å†Šå…§å®¹ï¼Œä¹Ÿå¯ä»¥åœ¨ç·Šæ€¥æƒ…æ³ä¸‹å¿«é€Ÿé»æ“Šå°èˆªï¼Œè·³è½‰åˆ°ç‰¹å®šçš„ã€Œæƒ…å¢ƒæ‡‰å°ã€ç« ç¯€ï¼Œå³æ™‚ç²å–æŒ‡å°ã€‚æ ¸å¿ƒçš„ã€Œæƒ…ç·’æ›²ç·šã€è¢«è¨­è¨ˆç‚ºä¸€å€‹äº’å‹•åœ–è¡¨ï¼Œä½¿ç”¨è€…å¯é»æ“Šä¸åŒéšæ®µä¾†æŸ¥çœ‹å°æ‡‰çš„è©³ç´°ç­–ç•¥ï¼Œå°‡æŠ½è±¡æ¦‚å¿µè½‰åŒ–ç‚ºå‹•æ…‹çš„å­¸ç¿’é«”é©—ï¼Œå¼·åŒ–è¨˜æ†¶èˆ‡ç†è§£ã€‚æ•´é«”çµæ§‹ä»¥å¯¦ç”¨æ€§èˆ‡å¿«é€ŸæŸ¥é–±ç‚ºå„ªå…ˆï¼Œæ—¨åœ¨æˆç‚ºåŠ©ç†å“¡æ—¥å¸¸å·¥ä½œä¸­çš„å¯é æ•¸ä½å·¥å…·ã€‚ -->
    <!-- Visualization & Content Choices: 1. æƒ…ç·’æ›²ç·šåœ–: ä½¿ç”¨Chart.jsçš„ç·šåœ–ä¾†è¦–è¦ºåŒ–æƒ…ç·’çš„äº”å€‹éšæ®µã€‚ç›®æ¨™æ˜¯æ•™å­¸èˆ‡å¼·åŒ–æ¦‚å¿µã€‚äº’å‹•æ–¹å¼ç‚ºé»æ“Šå„éšæ®µæŒ‰éˆ•ï¼Œåœ–è¡¨æœƒé«˜äº®å°æ‡‰å€æ®µï¼Œä¸¦åœ¨ä¸‹æ–¹é¡¯ç¤ºè©³ç´°æ–‡å­—ï¼Œå°‡è¦–è¦ºèˆ‡è³‡è¨Šç·Šå¯†çµåˆã€‚ 2. æƒ…å¢ƒæ‡‰å°: æ¡ç”¨æ‰‹é¢¨ç´ï¼ˆAccordionï¼‰å¼ä½ˆå±€ã€‚ç›®æ¨™æ˜¯æä¾›å¿«é€Ÿã€æ¸…æ™°çš„åˆ†é¡æŒ‡å¼•ã€‚äº’å‹•æ–¹å¼ç‚ºé»æ“Šæ¨™é¡Œå±•é–‹/æ”¶åˆå…§å®¹ï¼Œé¿å…è³‡è¨Šéè¼‰ï¼Œè®“ä½¿ç”¨è€…èƒ½å°ˆæ³¨æ–¼ç•¶å‰é‡åˆ°çš„å•é¡Œã€‚ 3. å…¶ä»–æ–‡å­—å…§å®¹: ä½¿ç”¨å¸¶æœ‰åœ–ç¤ºçš„å¡ç‰‡å¼è¨­è¨ˆã€‚ç›®æ¨™æ˜¯æ¸…æ™°åœ°å‘ˆç¾æ ¸å¿ƒç†å¿µèˆ‡åŸå‰‡ã€‚é€™ç¨®æ–¹å¼æ¯”ç´”æ–‡å­—æ›´æ˜“è®€ï¼Œæœ‰åŠ©æ–¼å¿«é€ŸæŒæ¡é‡é»ã€‚ -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', 'Noto Sans TC', sans-serif;
            background-color: #fdfaf6;
            color: #4a4a4a;
        }
        .nav-link {
            transition: all 0.3s ease;
            border-bottom: 2px solid transparent;
        }
        .nav-link.active, .nav-link:hover {
            color: #c5a07e;
            border-bottom-color: #c5a07e;
        }
        .card {
            background-color: #ffffff;
            border: 1px solid #f0e9e1;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
        }
        .accordion-header {
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        .accordion-header:hover {
            background-color: #f9f5f0;
        }
        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-out;
        }
        .stage-button {
            transition: all 0.3s ease;
            border: 1px solid #e0d8ce;
        }
        .stage-button.active {
            background-color: #c5a07e;
            color: #ffffff;
            border-color: #c5a07e;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            height: 250px;
            max-height: 40vh;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
    </style>
</head>
<body class="antialiased">

    <header class="bg-white/80 backdrop-blur-lg sticky top-0 z-50 shadow-sm border-b border-f0e9e1">
        <div class="container mx-auto px-4">
            <div class="flex items-center justify-between h-16">
                <h1 class="text-xl md:text-2xl font-bold text-[#8c6f50]">å°æšåŠ©ç†å“¡æ‰‹å†Šäº’å‹•æŒ‡å—</h1>
                <nav class="hidden md:flex space-x-6">
                    <a href="#core-philosophy" class="nav-link font-medium py-1">æ ¸å¿ƒç†å¿µ</a>
                    <a href="#emotion-curve" class="nav-link font-medium py-1">æƒ…ç·’æ›²ç·š</a>
                    <a href="#daily-rules" class="nav-link font-medium py-1">æ—¥å¸¸å®ˆå‰‡</a>
                    <a href="#situational-response" class="nav-link font-medium py-1">æƒ…å¢ƒæ‡‰å°</a>
                    <a href="#self-care" class="nav-link font-medium py-1">è‡ªæˆ‘ç…§é¡§</a>
                </nav>
            </div>
        </div>
    </header>

    <main class="container mx-auto px-4 py-8 md:py-12">
        
        <section id="core-philosophy" class="mb-16 scroll-mt-20">
            <h2 class="text-3xl font-bold text-center mb-2 text-[#8c6f50]">æ ¸å¿ƒç†å¿µï¼šè¡Œç‚ºå³æºé€š</h2>
            <p class="text-center text-lg text-gray-600 mb-8">ç†è§£å­¸ç”Ÿçš„æŒ‘æˆ°è¡Œç‚ºæ˜¯æœ‰æ•ˆé™ªä¼´çš„ç¬¬ä¸€æ­¥ã€‚</p>
            <div class="grid md:grid-cols-3 gap-6">
                <div class="card p-6 rounded-xl text-center">
                    <div class="text-4xl mb-4">ğŸ’¬</div>
                    <h3 class="text-xl font-bold mb-2 text-[#a78665]">è¡Œç‚ºæ˜¯éœ€æ±‚çš„è¡¨é”</h3>
                    <p class="text-gray-600">å­¸ç”Ÿçš„æ”»æ“Šã€ç½µäººç­‰è¡Œç‚ºï¼Œå¾€å¾€æ˜¯è¡¨é”æŒ«æŠ˜ã€ç„¦æ…®æˆ–éœ€æ±‚çš„æ–¹å¼ã€‚</p>
                </div>
                <div class="card p-6 rounded-xl text-center">
                    <div class="text-4xl mb-4">ğŸ”</div>
                    <h3 class="text-xl font-bold mb-2 text-[#a78665]">æ¢å°‹è¡Œç‚ºèƒŒå¾Œçš„åŸå› </h3>
                    <p class="text-gray-600">æ‰€æœ‰è¡Œç‚ºéƒ½æœ‰å…¶åŸå› ï¼Œæˆ‘å€‘çš„ä»»å‹™æ˜¯ç†è§£é€™äº›åŸå› ï¼Œè€Œä¸åƒ…æ˜¯åˆ¶æ­¢è¡Œç‚ºã€‚</p>
                </div>
                <div class="card p-6 rounded-xl text-center">
                    <div class="text-4xl mb-4">ğŸ§˜</div>
                    <h3 class="text-xl font-bold mb-2 text-[#a78665]">æ‚¨çš„å†·éœæ˜¯ç©©å®šåŠ‘</h3>
                    <p class="text-gray-600">ç•¶å­¸ç”Ÿæƒ…ç·’é«˜æ¼²æ™‚ï¼Œæ‚¨çš„å†·éœæ˜¯ç©©å®šå±€é¢çš„é—œéµï¼Œé¿å…è¢«æƒ…ç·’å¸¶å‹•ã€‚</p>
                </div>
            </div>
        </section>

        <section id="emotion-curve" class="mb-16 scroll-mt-20">
            <h2 class="text-3xl font-bold text-center mb-2 text-[#8c6f50]">æƒ…ç·’æ›²ç·šåœ–ï¼šé æ¸¬èˆ‡æ‡‰å°</h2>
            <p class="text-center text-lg text-gray-600 mb-8">é€™å¼µåœ–èƒ½å¹«åŠ©æ‚¨é æ¸¬å­¸ç”Ÿçš„è¡Œç‚ºï¼Œä¸¦åœ¨å•é¡Œæƒ¡åŒ–å‰æœ‰æ•ˆä»‹å…¥ã€‚é»æ“Šä¸‹æ–¹æŒ‰éˆ•æ¢ç´¢å„éšæ®µã€‚</p>
            <div class="card rounded-xl p-4 md:p-8">
                <div class="chart-container mb-6">
                    <canvas id="emotionChart"></canvas>
                </div>
                <div class="flex flex-wrap justify-center gap-2 md:gap-4 mb-6" id="stage-buttons"></div>
                <div id="stage-details" class="bg-[#f9f5f0] p-6 rounded-lg min-h-[150px]"></div>
            </div>
        </section>

        <section id="daily-rules" class="mb-16 scroll-mt-20">
            <h2 class="text-3xl font-bold text-center mb-2 text-[#8c6f50]">æ—¥å¸¸é™ªä¼´å®ˆå‰‡</h2>
            <p class="text-center text-lg text-gray-600 mb-8">åœ¨å¹³éœæœŸå»ºç«‹ç©©å›ºçš„ä¿¡ä»»é—œä¿‚ï¼Œæ˜¯é é˜²å±æ©Ÿçš„æœ€ä½³ç­–ç•¥ã€‚</p>
            <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6">
                 <div class="card p-6 rounded-xl">
                    <h3 class="font-bold text-lg text-[#a78665] mb-2">å»ºç«‹ä¿¡ä»»</h3>
                    <p>è¨­å®šæ¸…æ™°çš„è¡Œç‚ºç•Œç·šï¼Œä¸¦ä¿¡å®ˆå°å­¸ç”Ÿçš„æ¯ä¸€å€‹æ‰¿è«¾ï¼Œç„¡è«–å¤§å°ã€‚</p>
                </div>
                <div class="card p-6 rounded-xl">
                    <h3 class="font-bold text-lg text-[#a78665] mb-2">ä¸»å‹•é—œå¿ƒ</h3>
                    <p>åœ¨éè¡çªçš„å¹³ç©©æ™‚æœŸï¼Œä¸»å‹•èˆ‡å­¸ç”Ÿå»ºç«‹æ­£å‘ã€æ„‰å¿«çš„äº’å‹•é—œä¿‚ã€‚</p>
                </div>
                <div class="card p-6 rounded-xl">
                    <h3 class="font-bold text-lg text-[#a78665] mb-2">è‚¯å®šèˆ‡è®šç¾</h3>
                    <p>å…·é«”ä¸”åŠæ™‚åœ°è®šç¾å­¸ç”Ÿçš„æ¯ä¸€å€‹å¾®å°é€²æ­¥ï¼Œå¼·åŒ–å…¶æ­£é¢è¡Œç‚ºã€‚</p>
                </div>
                <div class="card p-6 rounded-xl">
                    <h3 class="font-bold text-lg text-[#a78665] mb-2">ä¿æŒåŒç†</h3>
                    <p>å§‹çµ‚å˜—è©¦ç†è§£å­¸ç”Ÿè¡Œç‚ºèƒŒå¾Œçš„æƒ…ç·’èˆ‡éœ€æ±‚ï¼Œä»¥åŒç†å¿ƒé€²è¡Œå›æ‡‰ã€‚</p>
                </div>
            </div>
        </section>

        <section id="situational-response" class="mb-16 scroll-mt-20">
            <h2 class="text-3xl font-bold text-center mb-2 text-[#8c6f50]">æƒ…å¢ƒæ‡‰å°æŒ‡å—</h2>
            <p class="text-center text-lg text-gray-600 mb-8">é‡å°ä¸åŒæŒ‘æˆ°è¡Œç‚ºçš„å…·é«”æ‡‰å°ç­–ç•¥ã€‚</p>
            <div id="accordion-container" class="space-y-4 max-w-4xl mx-auto"></div>
        </section>

        <section id="self-care" class="scroll-mt-20">
            <h2 class="text-3xl font-bold text-center mb-2 text-[#8c6f50]">è‡ªæˆ‘ç…§é¡§èˆ‡å°ˆæ¥­æˆé•·</h2>
            <p class="text-center text-lg text-gray-600 mb-8">ç…§é¡§å¥½è‡ªå·±ï¼Œæ‰èƒ½æ›´å¥½åœ°é™ªä¼´å­¸ç”Ÿã€‚</p>
            <div class="grid md:grid-cols-2 gap-6 max-w-4xl mx-auto">
                 <div class="card p-6 rounded-xl">
                    <h3 class="font-bold text-lg text-[#a78665] mb-2">ç…§é¡§è‡ªå·±</h3>
                    <ul class="list-disc list-inside space-y-2 text-gray-600">
                        <li>å®šæœŸå–˜æ¯ï¼Œå¾äº‹èƒ½è®“è‡ªå·±æ”¾é¬†çš„æ´»å‹•ã€‚</li>
                        <li>å»ºç«‹æ”¯æŒç¶²çµ¡ï¼Œèˆ‡åŒäº‹ã€å°å¸«åˆ†äº«äº¤æµã€‚</li>
                        <li>è¦ºå¯Ÿè‡ªèº«æƒ…ç·’ï¼Œé¿å…å°‡å·¥ä½œå£“åŠ›å¸¶å…¥ç”Ÿæ´»ã€‚</li>
                    </ul>
                </div>
                <div class="card p-6 rounded-xl">
                    <h3 class="font-bold text-lg text-[#a78665] mb-2">å°ˆæ¥­æˆé•·</h3>
                    <ul class="list-disc list-inside space-y-2 text-gray-600">
                        <li>è¨˜éŒ„èˆ‡åæ€æ¯æ—¥çš„äº’å‹•èˆ‡æ‡‰å°ç­–ç•¥ã€‚</li>
                        <li>å–„ç”¨å­¸æ ¡æä¾›çš„åŸ¹è¨“èˆ‡è¼”å°è³‡æºã€‚</li>
                        <li>åœ¨è€å¸«çš„æŒ‡å°ä¸‹èˆ‡å®¶é•·ä¿æŒå°ˆæ¥­æºé€šã€‚</li>
                    </ul>
                </div>
            </div>
        </section>
    </main>
    
    <footer class="text-center py-6 mt-12 border-t border-f0e9e1">
        <p class="text-gray-500">&copy; åŠ©ç†å“¡æ‰‹å†Šäº’å‹•æŒ‡å—</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {

            const emotionData = {
                stages: [
                    { name: 'å¹³éœæœŸ', color: '#a3c1ad', description: 'å­¸ç”Ÿæƒ…ç·’ç©©å®šã€å°ˆæ³¨ï¼Œèƒ½å¤ å­¸ç¿’èˆ‡äº’å‹•ã€‚', task: 'æ‚¨çš„ä»»å‹™ï¼šå°ˆæ³¨æ–¼å»ºç«‹é—œä¿‚å’Œçµ¦äºˆè‚¯å®šã€‚' },
                    { name: 'è§¸ç™¼æœŸ', color: '#f0e68c', description: 'å­¸ç”Ÿå‡ºç¾æ—©æœŸä¸æ»¿æˆ–ç„¦æ…®è·¡è±¡ï¼Œå¦‚å˜†æ°£ã€åç«‹ä¸å®‰ã€‚', task: 'æ‚¨çš„ä»»å‹™ï¼šæº«å’Œåœ°ä»‹å…¥ï¼Œå¯Ÿè¦ºè§¸ç™¼é»ï¼Œä¸¦æä¾›ç·©è§£ã€‚' },
                    { name: 'é«˜æ¼²æœŸ', color: '#e57373', description: 'æƒ…ç·’å¤±æ§ï¼Œå¯èƒ½ç™¼ç”Ÿæ”»æ“Šã€å¤§è²ç½µäººç­‰è¡Œç‚ºã€‚', task: 'æ‚¨çš„ä»»å‹™ï¼šå„ªå…ˆç¢ºä¿å®‰å…¨ï¼Œä¿æŒè·é›¢ï¼Œé¿å…è¨€èªè¡çªï¼Œç­‰å¾…æƒ…ç·’ç·©å’Œã€‚' },
                    { name: 'å†·å»æœŸ', color: '#a4b0be', description: 'æƒ…ç·’é–‹å§‹æ¶ˆé€€ï¼Œä½†å­¸ç”Ÿä»æ•æ„Ÿã€è„†å¼±ï¼Œå¯èƒ½æ„Ÿåˆ°ç¾æ„§ã€‚', task: 'æ‚¨çš„ä»»å‹™ï¼šä¿æŒå®‰éœï¼Œçµ¦äºˆç©ºé–“ï¼Œæä¾›ç„¡è²çš„æ”¯æŒã€‚' },
                    { name: 'æ¢å¾©æœŸ', color: '#b9d7d9', description: 'å­¸ç”Ÿæƒ…ç·’æ¢å¾©å¹³éœï¼Œèƒ½å¤ é€²è¡Œåæ€èˆ‡æºé€šã€‚', task: 'æ‚¨çš„ä»»å‹™ï¼šæº«å’Œåœ°è¨è«–å‰›æ‰çš„äº‹ä»¶ï¼Œå¼•å°ä»–è¡¨é”æ„Ÿå—ï¼Œä¸¦çµ¦äºˆæ”¯æŒã€‚' }
                ]
            };
            
            const responseData = [
                {
                    category: 'æ”»æ“Šè¡Œç‚º',
                    items: [
                        { title: 'æ¨æ“ ï¼æ‰“äºº', content: 'ç«‹å³éš”é›¢ï¼Œä¿æŒå®‰å…¨è·é›¢ã€‚ç”¨å …å®šèªæ°£åˆ¶æ­¢ã€‚ç«‹å³å‘è€å¸«æˆ–å­¸å‹™è™•å°‹æ±‚æ”¯æ´ã€‚' },
                        { title: 'ä¸Ÿæ“²ç‰©å“', content: 'å„ªå…ˆä¿è­·è‡ªå·±èˆ‡ä»–äººå®‰å…¨ã€‚å†·éœä¸‹é”ã€ŒæŠŠæ±è¥¿æ”¾ä¸‹ã€çš„æŒ‡ä»¤ã€‚' },
                        { title: 'è‡ªæˆ‘å‚·å®³', content: 'ç«‹å³ç§»é™¤å‘¨é­çš„å±éšªç‰©å“ã€‚æ­¤ç‚ºç·Šæ€¥æƒ…æ³ï¼Œå¿…é ˆç«‹å³å‘å°ˆæ¥­äººå“¡æ±‚åŠ©ã€‚' }
                    ]
                },
                {
                    category: 'èªè¨€æ”»æ“Š',
                    items: [
                        { title: 'é »ç¹èªªé«’è©±', content: 'å¹³éœç³¾æ­£ï¼Œä¸è¦éåº¦åæ‡‰ã€‚äº‹å¾Œå¼•å°ï¼Œæä¾›å¯æ¥å—çš„æ›¿ä»£è©å½™ã€‚' },
                        { title: 'äººèº«æ”»æ“Š', content: 'ç«‹å³åš´è‚…åˆ¶æ­¢æ­¤è¡Œç‚ºã€‚å¼•å°å­¸ç”Ÿæ›ä½æ€è€ƒï¼Œé«”æœƒä»–äººæ„Ÿå—ã€‚' },
                        { title: 'èª£è³´è€å¸«', content: 'ç«‹å³å‘ŠçŸ¥ï¼šã€Œæˆ‘å€‘å¾ˆé‡è¦–é€™ä»¶äº‹ï¼Œç«‹åˆ»åˆ°å­¸å‹™è™•è™•ç†ã€‚ã€å°‡å•é¡Œè½‰äº¤çµ¦æ ¡æ–¹å°ˆæ¥­äººå“¡ã€‚' }
                    ]
                },
                {
                    category: 'å­¸ç¿’èˆ‡ç¤¾äº¤',
                    items: [
                        { title: 'æ‹’çµ•å­¸ç¿’', content: 'å°‡å¤§ä»»å‹™æ‹†è§£æˆå°æ­¥é©Ÿï¼Œæä¾›é¸æ“‡æ¬Šä»¥å¢åŠ æŒæ§æ„Ÿã€‚' },
                        { title: 'ä¸åƒèˆ‡æ´»å‹•', content: 'å°Šé‡å…¶é¸æ“‡ï¼Œä¸å¼·è¿«ã€‚æä¾›ä½å£“åŠ›çš„åƒèˆ‡æ–¹å¼ï¼Œå¦‚æ“”ä»»è§€å¯Ÿå“¡ã€‚' },
                        { title: 'ä¸­é€”å“­é¬§/ç™¼å‘†', content: 'æä¾›å®‰éœçš„ç©ºé–“è®“ä»–ä¼‘æ¯ï¼Œä¸¦çµ¦äºˆç„¡è²çš„é™ªä¼´èˆ‡æ”¯æŒã€‚' }
                    ]
                }
            ];

            const stageButtonsContainer = document.getElementById('stage-buttons');
            const stageDetailsContainer = document.getElementById('stage-details');
            
            emotionData.stages.forEach((stage, index) => {
                const button = document.createElement('button');
                button.textContent = stage.name;
                button.classList.add('stage-button', 'px-3', 'py-2', 'md:px-4', 'rounded-full', 'font-medium', 'text-sm', 'md:text-base', 'bg-white');
                button.dataset.index = index;
                stageButtonsContainer.appendChild(button);
            });

            const ctx = document.getElementById('emotionChart').getContext('2d');
            const emotionChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: emotionData.stages.map(s => s.name),
                    datasets: [{
                        label: 'æƒ…ç·’å¼·åº¦',
                        data: [1, 2.5, 5, 2, 1],
                        borderColor: '#c5a07e',
                        backgroundColor: 'rgba(197, 160, 126, 0.1)',
                        tension: 0.4,
                        fill: true,
                        pointRadius: 6,
                        pointBackgroundColor: emotionData.stages.map(s => s.color),
                        pointBorderColor: '#ffffff',
                        pointBorderWidth: 2,
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { display: false },
                        tooltip: { enabled: false }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            display: false,
                        },
                        x: {
                            grid: { display: false },
                             ticks: {
                                font: {
                                    size: 12,
                                    family: "'Inter', 'Noto Sans TC', sans-serif"
                                }
                            }
                        }
                    }
                }
            });

            function updateStageView(index) {
                const stage = emotionData.stages[index];
                stageDetailsContainer.innerHTML = `
                    <h3 class="font-bold text-xl mb-2 text-[#a78665]">${stage.name}</h3>
                    <p class="text-gray-700 mb-2">${stage.description}</p>
                    <p class="font-medium text-gray-800">${stage.task}</p>
                `;

                document.querySelectorAll('.stage-button').forEach((btn, i) => {
                    btn.classList.toggle('active', i === index);
                });

                emotionChart.data.datasets[0].pointRadius = emotionData.stages.map((_, i) => i === index ? 10 : 6);
                emotionChart.data.datasets[0].pointBorderWidth = emotionData.stages.map((_, i) => i === index ? 3 : 2);
                emotionChart.update();
            }

            stageButtonsContainer.addEventListener('click', (e) => {
                if (e.target.matches('.stage-button')) {
                    const index = parseInt(e.target.dataset.index);
                    updateStageView(index);
                }
            });
            
            updateStageView(0);


            const accordionContainer = document.getElementById('accordion-container');
            responseData.forEach(category => {
                const categoryDiv = document.createElement('div');
                categoryDiv.classList.add('card', 'rounded-xl', 'overflow-hidden');
                
                let itemsHtml = '';
                category.items.forEach(item => {
                    itemsHtml += `
                        <div class="border-b border-f0e9e1 last:border-b-0">
                            <h4 class="font-medium px-6 py-4">${item.title}</h4>
                            <div class="px-6 pb-4 text-gray-600">
                                <p>${item.content}</p>
                            </div>
                        </div>
                    `;
                });

                categoryDiv.innerHTML = `
                    <div class="accordion-header p-4 md:p-6 flex justify-between items-center bg-[#f9f5f0]">
                        <h3 class="text-xl font-bold text-[#a78665]">${category.category}</h3>
                        <span class="transform transition-transform duration-300 text-2xl font-light text-[#c5a07e]">+</span>
                    </div>
                    <div class="accordion-content bg-white">
                        <div class="divide-y divide-f0e9e1">
                            ${category.items.map(item => `
                                <div class="p-6">
                                    <h4 class="font-bold text-lg text-gray-800 mb-2">${item.title}</h4>
                                    <p class="text-gray-600">${item.content}</p>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
                accordionContainer.appendChild(categoryDiv);
            });
            
            accordionContainer.addEventListener('click', e => {
                const header = e.target.closest('.accordion-header');
                if (header) {
                    const content = header.nextElementSibling;
                    const icon = header.querySelector('span');
                    
                    header.parentElement.parentElement.querySelectorAll('.accordion-content').forEach(c => {
                       if (c !== content) {
                           c.style.maxHeight = null;
                           c.previousElementSibling.querySelector('span').classList.remove('rotate-45');
                           c.previousElementSibling.querySelector('span').textContent = '+';
                       }
                    });

                    if (content.style.maxHeight) {
                        content.style.maxHeight = null;
                        icon.classList.remove('rotate-45');
                        icon.textContent = '+';
                    } else {
                        content.style.maxHeight = content.scrollHeight + "px";
                        icon.classList.add('rotate-45');
                        icon.textContent = ' ';
                    }
                }
            });

            const navLinks = document.querySelectorAll('.nav-link');
            const sections = document.querySelectorAll('main section');

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        navLinks.forEach(link => {
                            link.classList.toggle('active', link.getAttribute('href').substring(1) === entry.target.id);
                        });
                    }
                });
            }, { rootMargin: "-50% 0px -50% 0px", threshold: 0 });

            sections.forEach(section => observer.observe(section));
            
            navLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    document.querySelector(this.getAttribute('href')).scrollIntoView({
                        behavior: 'smooth'
                    });
                });
            });

        });
    </script>
</body>
</html>
